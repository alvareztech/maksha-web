<div class="row">
  <div class="col-lg-8">
    <form (ngSubmit)="saveLab()">
      <div class="form-group">
        <input type="text" class="form-control" id="titleLab" aria-describedby="Title"
               placeholder="Title" [(ngModel)]="currentLab.title" name="Title">
        <small id="emailHelp" class="form-text text-muted">Identifier: {{currentLab.$key}}</small>
      </div>
      <div class="form-group">
        <select class="form-control" id="techLab" [(ngModel)]="currentLab.technology" name="Technology" required>
          <option *ngFor="let tech of technologyService.getTechnologies()" [value]="tech.id">{{ tech.name }}</option>
        </select>
      </div>
      <div class="form-group">
        <select class="form-control" id="levelLab" name="Level" [(ngModel)]="currentLab.level" name="Level" required>
          <option *ngFor="let level of technologyService.getLevels()" [value]="level.id">{{ level.name }}</option>
        </select>
      </div>

      <h2>Steps</h2>

      <div class="form-group">
        <ul class="pagination">
          <li class="page-item" *ngFor="let x of currentLab.steps; let i = index;"
              [class.active]="currentStepNumber == i">
            <a class="page-link" (click)="setStep(i)">{{ i }}</a>
          </li>
        </ul>
        <button type="button" class="btn btn-secondary btn-sm" (click)="newStep()">New step</button>
      </div>

      <div class="form-group">
        <input type="text" class="form-control" id="stepTitle" aria-describedby="stepTitle"
               placeholder="Title" [(ngModel)]="currentStep.title" name="Step Title">
      </div>

      <div class="form-group">
        <textarea class="form-control" id="contentStep" rows="20" [(ngModel)]="currentStep.content"
                  name="Content"></textarea>
      </div>

      <button type="submit" class="btn btn-primary">Save</button>


    </form>
  </div>
  <div class="col-lg-4">
    <h4>Labs</h4>
    <div class="list-group">
      <a class="list-group-item list-group-item-action flex-column align-items-start"
         *ngFor="let lab of labsPreview | async" (click)="goLab(lab.$key)">
        <h5 class="mb-1">{{ lab.title }}</h5>
        <small>{{ lab.technology }}</small>
      </a>
    </div>
  </div>
</div>
